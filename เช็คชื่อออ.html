<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠</title>
  <style>
    body { font-family: system-ui, -apple-system, "Segoe UI", sans-serif; margin: 24px; }
    .card { max-width: 720px; margin: 0 auto; padding: 16px; border: 1px solid #ddd; border-radius: 14px; }
    h1 { font-size: 22px; margin: 0 0 12px; }
    .row { display: flex; gap: 10px; flex-wrap: wrap; }
    input, button { padding: 10px 12px; border-radius: 10px; border: 1px solid #ccc; font-size: 16px; }
    button { cursor: pointer; }
    .msg { margin-top: 10px; padding: 10px 12px; border-radius: 10px; background: #f6f6f6; }
    .cols { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 14px; }
    ul { margin: 8px 0 0; padding-left: 18px; }
    .tag { display:inline-block; padding: 3px 8px; border-radius: 999px; font-size: 12px; background:#eee; margin-left: 6px;}
    @media (max-width: 700px){ .cols{ grid-template-columns:1fr; } }
  </style>
</head>
<body>
  <div class="card">
    <h1>üìã ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠ <span class="tag" id="countTag"></span></h1>

    <div class="row">
      <input id="nameInput" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠ ‡πÄ‡∏ä‡πà‡∏ô ‡πÅ‡∏ö‡∏°" list="nameList" />
      <datalist id="nameList"></datalist>

      <button id="checkBtn">‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠</button>
      <button id="resetBtn" title="‡∏•‡πâ‡∏≤‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï</button>
    </div>

    <div class="msg" id="msg">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>

    <div class="cols">
      <div>
        <strong>‚úÖ ‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß</strong>
        <ul id="arrived"></ul>
      </div>
      <div>
        <strong>‚è≥ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏≤</strong>
        <ul id="missing"></ul>
      </div>
    </div>
  </div>

  <script>
    // ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    const sairahas = [
      "‡∏û‡∏µ‡πà‡∏ô‡∏∏‡πâ‡∏Å‡∏à‡πã‡∏≤", "‡∏û‡∏µ‡πà‡∏ö‡∏±‡∏ß‡∏ß", "‡πÅ‡∏ö‡∏°", "‡∏ô‡∏£‡∏ä‡∏£", "‡∏≠‡∏≠‡∏°", "‡∏õ‡∏£‡∏≤‡∏¢‡∏ù‡∏ô", "‡∏õ‡∏£‡∏¥‡πâ‡∏ô‡πÄ‡∏™‡πâ‡∏™", "‡∏Ç‡πâ‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà"
    ];

    // ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏à‡∏≤‡∏Å LocalStorage (‡∏Å‡∏±‡∏ô‡∏´‡∏≤‡∏¢‡∏ï‡∏≠‡∏ô‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä)
    const STORAGE_KEY = "checked_in_v1";
    let checkedIn = new Set(JSON.parse(localStorage.getItem(STORAGE_KEY) || "[]"));

    const nameInput = document.getElementById("nameInput");
    const msg = document.getElementById("msg");
    const arrivedEl = document.getElementById("arrived");
    const missingEl = document.getElementById("missing");
    const countTag = document.getElementById("countTag");

    // ‡πÄ‡∏ï‡∏¥‡∏° autocomplete ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠
    const dl = document.getElementById("nameList");
    sairahas.forEach(n => {
      const opt = document.createElement("option");
      opt.value = n;
      dl.appendChild(opt);
    });

    function save() {
      localStorage.setItem(STORAGE_KEY, JSON.stringify([...checkedIn]));
    }

    function render() {
      arrivedEl.innerHTML = "";
      missingEl.innerHTML = "";

      const arrived = sairahas.filter(n => checkedIn.has(n));
      const missing = sairahas.filter(n => !checkedIn.has(n));

      arrived.forEach(n => {
        const li = document.createElement("li");
        li.textContent = n;
        arrivedEl.appendChild(li);
      });

      missing.forEach(n => {
        const li = document.createElement("li");
        li.textContent = n;
        missingEl.appendChild(li);
      });

      countTag.textContent = `${arrived.length}/${sairahas.length} ‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß`;
    }

    function setMessage(text) {
      msg.textContent = text;
    }

    function checkIn() {
      const name = nameInput.value.trim();

      if (!name) return setMessage("‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡πâ‡∏≤");
      if (!sairahas.includes(name)) return setMessage("‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠");

      if (checkedIn.has(name)) {
        setMessage(`${name} ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß`);
      } else {
        checkedIn.add(name);
        save();
        setMessage(`‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠ ${name} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ ‚úÖ`);
        render();
      }

      nameInput.value = "";
      nameInput.focus();
    }

    document.getElementById("checkBtn").addEventListener("click", checkIn);
    nameInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter") checkIn();
    });

    document.getElementById("resetBtn").addEventListener("click", () => {
      checkedIn = new Set();
      save();
      render();
      setMessage("‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÅ‡∏•‡πâ‡∏ß (‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏≤)");
    });

    render();
  </script>
</body>
</html>